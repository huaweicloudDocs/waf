# 修改拦截返回页面<a name="waf_01_0154"></a>

当访问者触发WAF拦截时，默认返回WAF“系统默认“的拦截返回页面，您也可以根据自己的需要，配置“自定义“或者“重定向“的拦截返回页面。

>![](public_sys-resources/icon-note.gif) **说明：** 
>如果您已开通企业项目，您需要在“企业项目“下拉列表中选择您所在的企业项目并确保已开通操作权限，才能为该企业项目下域名修改拦截返回页面。

## 前提条件<a name="section5903171661012"></a>

已添加防护网站。

## 约束条件<a name="section6226125684212"></a>

-   “自定义“的拦截返回页面支持配置text/html、text/xml和application/json三种页面类型的页面内容。
-   “重定向“地址的根域名必须和当前被防护的域名（包括泛域名）保持一致。例如，被防护的域名为www.example.com，端口为8080，则重定向URL可设置为“http://www.example.com:8080/error.html“。

## 操作步骤<a name="section096064411189"></a>

1.  [登录管理控制台](https://console.huaweicloud.com/?locale=zh-cn)。
2.  单击管理控制台左上角的![](figures/icon-region-91.jpg)，选择区域或项目。
3.  单击页面左上方的![](figures/icon-Service-92.png)，选择“安全与合规  \>  Web应用防火墙 WAF“。
4.  在左侧导航树中，选择“网站设置“，进入“网站设置“页面。
5.  在目标网站所在行的“域名“列中，单击目标网站，进入网站基本信息页面。
6.  在“告警页面“所在行的页面模板名称后，单击![](figures/icon-edit.jpg)，在弹出的“告警页面“对话框中，选择“页面模板“进行配置。
    -   “页面模板“选择“系统默认“时，默认返回WAF内置的HTTP返回码为418的拦截页面。

        **图 1**  系统默认告警页面<a name="fig16839153020205"></a>  
        ![](figures/系统默认告警页面.png "系统默认告警页面")

    -   “页面模板“选择“自定义“时，如[图2](#fig1539442518417)所示。

        -   HTTP返回码：自定义页面配置的返回码。
        -   页面类型：可选择text/html、text/xml和application/json三种类型。
        -   页面内容：根据选择的“页面类型“配置对应的页面内容。

        **图 2**  自定义告警页面<a name="fig1539442518417"></a>  
        ![](figures/自定义告警页面.png "自定义告警页面")

    -   “页面模板“选择“重定向“时，根据界面提示配置重定向URL。

        **图 3**  重定向告警页面<a name="fig4130183432116"></a>  
        ![](figures/重定向告警页面.png "重定向告警页面")

        重定向URL的根域名必须和当前被防护的域名（包括泛域名）保持一致。例如，被防护的域名为www.example.com，端口为8080，则重定向URL可设置为“http://www.example.com:8080/error.html“。

7.  单击“确认“，告警页面配置成功。

